## Test plan

### Automated tests

Automated tests will be used for both testing the React app and Firebase functions.
Jest will be used for React components, as it is integrated with create-react-app which was used to start the project.
The Firebase functions which are built using express, will be tested with mocha.

## Manual tests

Other tests will be documented below.

| Requirement                          | Id   | Test case                                                                  | Pre conditions                                                                                                     | Steps                                                                                                                                                                                                    | Test data                                                                                                                                                                                                                                              | Expected                                                                                                                     | Actual                                                                                                                       | Pass/fail |
| ------------------------------------ | ---- | -------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------- | --------- |
| 1 - Log in                           | TC1  | Log in through Spotify authentication service to get an access_token       | \- Registered Spotify account<br>\- Not already logged in<br>\- No current valid access_token/refresh_token cookie | 1\. Navigate to application<br>2\. Click 'Log in' button<br>3\. Log in through spotify authentication service                                                                                            | Credentials for a registered Spotify account                                                                                                                                                                                                           | Redirect to the main content of the application                                                                              | Redirect to the main content of the application                                                                              | Pass      |
| 1 - Log in                           | TC2  | Get a new access_token cookie with existing refresh_token cookie           | \- Successfullly logged in according to TC1<br>\- No current valid access_token cookie                             | 1\. Remove access_token cookie if existing<br>3\. Navigate to application or refresh page                                                                                                                | See TC1                                                                                                                                                                                                                                                | Access to the main content of the application                                                                                | Access to the main content of the application                                                                                | Pass      |
| 5 - Add songs                        | TC3  | Search for and add tracks through the text field                           | \- Logged in (see TC1)                                                                                             | 1\. Enter a search string to the text field<br>2\. Select option in drop down                                                                                                                            | Any track existing on Spotify, example: "bohemian rhapsody"                                                                                                                                                                                            | The selected track is presented in the UI                                                                                    | The selected track is presented in the UI                                                                                    | Pass      |
| 5 - Add songs                        | TC4  | Should not be able to add more than five tracks                            | \- Logged in (see TC1)                                                                                             | 1\. Repeat TC3 five times, but with different tracks<br>2\. Try and repeat it a sixth time                                                                                                               | Any tracks existing on Spotify, example data:<br>1\. "bohemian rhapsody"<br>2\. "Hey jude" - The Beatles<br>3\. "smells like teen spirit" - Nirvana<br>4\. "billie jean" - Michael Jackson<br>5\. "one" - U2<br>6\. "god save the queen" - sex pistols | The sixth track is not added                                                                                                 | The sixth track is not added                                                                                                 | Pass      |
| 5 - Add songs                        | TC5  | Should not be able to add identical tracks                                 | \- Logged in (see TC1)                                                                                             | 1\. Try and repeat TC3 with the same track                                                                                                                                                               |                                                                                                                                                                                                                                                        | The identical track is ignored                                                                                               | The identical track is ignored                                                                                               | Pass      |
| 2 - Generate playlist                | TC6  | Should generate a playlist                                                 | \- Logged in (see TC1)<br>\- Added track(s) TC3                                                                    | 1\. Add one or many tracks (see TC3)<br>2\. Click the "Generate" button                                                                                                                                  |                                                                                                                                                                                                                                                        | A playlist is presented                                                                                                      | A playlist is presented                                                                                                      | Pass      |
| 2 - Generate playlist                | TC7  | Should not generate playlist if no seeds (tracks/artists/genres) are added | \- Logged in (see TC1)                                                                                             | 1\. Click the "generate" button                                                                                                                                                                          |                                                                                                                                                                                                                                                        | Nothing will happen                                                                                                          | Nothing will happen, the button is disabled                                                                                  | Pass      |
| 6 - Playlist view                    | TC8  | Should present the playlist with artist, track and title                   |                                                                                                                    | 1\. Add one or many tracks (see TC3)<br>2\. Generate a playlist (see TC6)<br>3\. Scroll to view all tracks<br>                                                                                           |                                                                                                                                                                                                                                                        | A playlist is presented with artist names and track titles                                                                   | A playlist is presented with artist names and track titles                                                                   | Pass      |
| 3 - Save playlist to Spotify library | TC9  | Should save the playlist to user Spotify library                           | \- Logged in (see TC1)<br>\- Have generated a playlist (see TC6)                                                   | 1\. Add one or many tracks (see TC3)<br>2\. Generate a playlist (see TC6)<br>3\. Click "Save to library" button<br>4\. Click "save" button                                                               |                                                                                                                                                                                                                                                        | A new playlist with corresponding tracks appears in user Spotify library                                                     | A new playlist with corresponding tracks appears in user Spotify library                                                     | Pass      |
| 4 - Playlist customization           | TC10 | Combobox should limit the playlist length                                  | \- Logged in (see TC1)<br>\- Have generated a playlist (see TC6)                                                   | 1\. Add one or many tracks (see TC3)<br>2\. Generate a playlist (see TC6)<br>3\. Use the combo box limiter to limit between the options                                                                  |                                                                                                                                                                                                                                                        | Setting limit to number X should display a playlist with X number of tracks,                                                 | Setting limit to number X should display a playlist with X number of tracks,                                                 | Pass      |
| 4 - Playlist customization           | TC11 | Should be able to remove track from playlist                               | \- Logged in (see TC1)<br>\- Have generated a playlist (see TC6)                                                   | 1\. Add one or many tracks (see TC3)<br>2\. Generate a playlist (see TC6)<br>3\. Remove first track in list by clicking the remove icon                                                                  |                                                                                                                                                                                                                                                        | Track is removed from the list                                                                                               | Track is removed from the list                                                                                               | Pass      |
| 8 - Name playlist                    | TC12 | Should be able to choose playlist name before saving                       | \- Logged in (see TC1)<br>\- Have generated a playlist (see TC6)                                                   | 1\. Add one or many tracks (see TC3)<br>2\. Generate a playlist (see TC6)<br>3\. Click "Save to library" button<br>4\. Enter a playlist name to the textfield<br>5\. Click "save" button                 |                                                                                                                                                                                                                                                        | A new playlist with corresponding tracks and playlist title appears in user Spotify library                                  | A new playlist with corresponding tracks and playlist title appears in user Spotify library                                  | Pass      |
| 7 - Settings                         | TC13 | Should be able to toggle which settings to use                             | \- Logged in (see TC1)                                                                                             | Repeat step for each setting:<br>1\. Toggle setting<br>2\. Use slider to slide to max and minimum<br>3\. Leave toggle at on                                                                              |                                                                                                                                                                                                                                                        | Each setting is activated and deactivated by using the toggle button. When the toggle is off, the setting slider is disabled | Each setting is activated and deactivated by using the toggle button. When the toggle is off, the setting slider is disabled | Pass      |
| 9 - Song preview                     | TC14 | Should be able to play a preview of each song                              | \- Logged in (see TC1)<br>\- Have generated a playlist (see TC6)                                                   | 1\. Add one or many tracks (see TC3)<br>2\. Generate a playlist (see TC6)<br>3\. Click a play button of a track in the playlist                                                                          |                                                                                                                                                                                                                                                        | A preview of the track plays and the play button is replaced with a pause button                                             | A preview of the track plays and the play button is replaced with a pause button                                             | Pass      |
| 9 - Song preview                     | TC15 | Should be able to pause a playing preview                                  | \- Logged in (see TC1)<br>\- Have generated a playlist (see TC6)<br>\- TC14 passed                                 | 1\. Add one or many tracks (see TC3)<br>2\. Generate a playlist (see TC6)<br>3\. Click a play button of a track in the playlist<br>4\. Click the pause button of the same track                          |                                                                                                                                                                                                                                                        | A preview of one track plays and then pauses when clicking the pause button                                                  | A preview of one track plays and then pauses when clicking the pause button                                                  | Pass      |
| 9 - Song preview                     | TC16 | Should play one song at a time                                             | \- Logged in (see TC1)<br>\- Have generated a playlist (see TC6)                                                   | 1\. Add one or many tracks (see TC3)<br>2\. Generate a playlist (see TC6)<br>3\. Click a play button of a track in the playlist<br>4\. Without pausing the first track, play another track's play button |                                                                                                                                                                                                                                                        | A preview of one track plays at a time. The first track pauses when playing the next                                         | A preview of one track plays at a time. The first track pauses when playing the next                                         | Pass      |
| 11 - Add genres                      | TC17 | Search for and add genres through the textfield                            | \- Logged in (see TC1)                                                                                             | 1\. Select "genres" as input<br>2.Enter a search string to the text field<br>3\. Select option in drop down                                                                                              | Search string: "black metal"                                                                                                                                                                                                                           | The searched string is found and when selected is presented in the UI                                                        | The searched string is found and when selected is presented in the UI                                                        | Pass      |
| 11 - Add genres                      | TC18 | Should not be able to add more than five genres                            | \- Logged in (see TC1)                                                                                             | 1\. Select "genres" as input<br>2.Enter a search string to the text field<br>3\. Select option in drop down five times<br>4\. Try to repeat a sixth time                                                 | Any genres available in the dropdown                                                                                                                                                                                                                   | The sixth genre is not added                                                                                                 | The sixth genre is not added                                                                                                 | Pass      |
| 11 - Add genres                      | TC19 | Should not be able to add identical genres                                 | \- Logged in (see TC1)                                                                                             | 1\. Try and repeat TC17 with the same track                                                                                                                                                              | Any genres available in the dropdown                                                                                                                                                                                                                   | The identical genre is ignored                                                                                               | The identical genre is ignored<br>                                                                                           | Pass      |
| 12 - Add artists                     | TC20 | Search for and add artists through the textfield                           | \- Logged in (see TC1)                                                                                             | 1\. Select "artists" as input<br>2\. Enter a search string to the text field<br>3\. Select option in drop down                                                                                           | Search string: "queen"                                                                                                                                                                                                                                 | The searched string is found and when selected is presented in the UI                                                        | The searched string is found and when selected is presented in the UI                                                        | Pass      |
| 12 - Add artists                     | TC21 | Should not be able to add more than five artists                           | \- Logged in (see TC1)                                                                                             | 1\. Select "artists" as input<br>2.Enter a search string to the text field<br>3\. Select option in drop down five times<br>4\. Try to repeat a sixth time                                                | example search strings: "queen", "beatles" ,"nirvana", "u2", "michael jackson", "sex pistols"                                                                                                                                                          | The sixth artist is not added                                                                                                | The sixth artist is not added                                                                                                | Pass      |
| 12 - Add artists                     | TC22 | Should not be able to add identical artists                                | \- Logged in (see TC1)                                                                                             | 1\. Try and repeat TC20 with the same track                                                                                                                                                              |                                                                                                                                                                                                                                                        | The identical artist is ignored                                                                                              | The identical artist is ignored<br>                                                                                          | Pass      |
| 15 - Save to library feedback        | TC23 | Should show a success message when a playlist is added to library          | \- Logged in (see TC1)<br>\- Have generated a playlist (see TC6)                                                   | 1\. Add one or many tracks (see TC3)<br>2\. Generate a playlist (see TC6)<br>3\. Click "Save to library" button<br>4\. Click "save" button                                                               |                                                                                                                                                                                                                                                        | The UI displays a success message                                                                                            | The UI displays a success message                                                                                            | Pass      |
| 21 - Image loading                   | TC24 | Should show an animation when for each image when it is done loading       | \- Logged in (see TC1)<br>\- Chrome or Firefox web browser                                                         | 1\. Set network throttling to a slower connection (for example 3G) in the browser devtools<br>2\. Generate a playlist (see TC6)                                                                          |                                                                                                                                                                                                                                                        | A loading animation is showed when the image is displayed                                                                    | A loading animation is showed when the image is displayed                                                                    | Pass      |
| 22 - Component lazy loading          | TC25 | Should show a loading animation while content is loading                   | \- Logged in (see TC1)<br>\- Chrome or Firefox web browser                                                         | 1\. Set network throttling to a slower connection (for example 3G) in the browser devtools<br>2\. Generate a playlist (see TC6)                                                                          |                                                                                                                                                                                                                                                        | A loading animation is displayed while the content is loading                                                                | A loading animation is displayed while the content is loading                                                                | Pass      |
| 14 - Reset settings                  | TC26 | Should reset setting sliders to default values                             | \- Logged in (see TC1)                                                                                             | 1\. Follow steps for TC13 to add settings<br>2\. Click the reset icon                                                                                                                                    |                                                                                                                                                                                                                                                        | All setting sliders are reset to default values                                                                              | All setting sliders are reset to default values                                                                              | Pass      |
| 20 - Session settings                | TC27 | Settings, added seeds and playlist should all persist when refreshing page |                                                                                                                    | 1\. Add settings (TC13)<br>2\. Add seeds (TC3/TC17/TC20)<br>3\. Generate a list (TC6)<br>4\. Refresh page                                                                                                |                                                                                                                                                                                                                                                        | Settings remain after page refresh                                                                                           | Settings remain after page refresh                                                                                           | Pass      |
